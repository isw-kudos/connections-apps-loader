window.kudosAppLoader=window.kudosAppLoader||{},function(){var e={};function n(e){window.document.title=e||""}function o(e){document.write(e)}function a(e){return e?e.charAt(0).toUpperCase()+e.slice(1):null}function t(){var e=location.href.replace(location.origin,"/..");window.location.href="/blogs/roller-ui/login-redirect.jsp?redirect="+encodeURIComponent(e)}window.kudosAppLoader.go=function(){var t,i=window.kudosAppLoader.appLoaderConfig,r=window.kudosAppLoader.contextPath,l=r.replace(/^\//,"");if(i[l])L=l,t=r;else{var d=window.location.pathname.replace(r,"").split("/");L=d.length>1?d[1]:null,t=r+"/"+L}var c=L?i[L]:null,p=document.getElementById("app-frame");o(e.body);var s=$(document.body).height();if(s&&s<100&&(p.style.paddingTop=s+"px"),c){var u=new URL(c);if(n(a(L)),window.addEventListener("message",function(e){if(e&&e.data&&e.origin===u.origin){var o,a,i=e.data;i.route&&history.replaceState(null,null,t+i.route),i.title&&n(i.title),i.icon&&(o=i.icon,(a=document.querySelector("link[rel*='icon']"))||(a=document.createElement("link"),document.getElementsByTagName("head")[0].appendChild(a)),a.type="image/x-icon",a.rel="shortcut icon",a.href=o)}},!1),p){var h=u.origin,w="/"===u.pathname?"":u.pathname,f=window.location.pathname.replace(t,""),m=[];window.location.search&&m.push(window.location.search.replace("?","")),u.search&&m.push(u.search.replace("?",""));var g=m.length?"?"+m.join("&"):"",v=window.location.hash||u.hash;p.src=h+(f||w)+g+v}}else{p&&(p.style.display="none");var y=$('<div class="app-links" ></div>');for(var L in $(document.body).append(y),i){var b=$('<span class="app-link"><a href="'+r+"/"+L+'">'+a(L)+"</a></span>");y.append(b)}}};var i="/blogs/roller-ui/about.do";$.ajax({url:i,type:"GET",dataType:"text",async:!1,cache:!1}).done(function(n,o,a){function t(e,n){var o=e.toLowerCase(),a=n.toLowerCase(),t=o.indexOf("<"+a);if(t>-1){t=o.indexOf(">",t)+1;var i=o.indexOf("</"+a,t);if(i>t)return e.substring(t,i)}return null}var i=t(n,"head");i=(i=(i=i.replace(/<title>[^<]*<\/title>/,"")).replace(/<meta[^>]*>/g,"")).replace(/document.title[\s]*=[^;]*;/g,""),e.head=i;var r=t(n,"body");r=r.replace(/document.title[\s]*=[^;]*;/g,""),e.body=r}).fail(function(e,n,o){console.error("Connections integration load failure",arguments),t()}),o(e.head),window.appName||t()}();
