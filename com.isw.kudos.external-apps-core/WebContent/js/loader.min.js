window.kudosAppLoader=window.kudosAppLoader||{},function(){function e(e){window.document.title=e||""}function o(e){var o=document.querySelector("link[rel*='icon']");o||(o=document.createElement("link"),document.getElementsByTagName("head")[0].appendChild(o)),o.type="image/x-icon",o.rel="shortcut icon",o.href=e}function n(e){document.write(e)}function t(e){return e?e.charAt(0).toUpperCase()+e.slice(1):null}function a(){window.location.href="/blogs/roller-ui/login-redirect.jsp?redirect="+encodeURIComponent(window.location.href)}function i(){$.ajax({url:d,type:"GET",dataType:"text",async:!1,cache:!1}).done(function(e,o,n){function t(e,o){var n=e.toLowerCase(),t=o.toLowerCase(),a=n.indexOf("<"+t);if(a>-1){a=n.indexOf(">",a)+1;var i=n.indexOf("</"+t,a);if(i>a)return e.substring(a,i)}return null}var a=t(e,"head");a=(a=(a=a.replace(/<title>[^<]*<\/title>/,"")).replace(/<meta[^>]*>/g,"")).replace(/document.title[\s]*=[^;]*;/g,""),r.head=a;var i=t(e,"body");i=i.replace(/document.title[\s]*=[^;]*;/g,""),r.body=i}).fail(function(e,o,n){console.error("Connections integration load failure",arguments),a()})}var r={};window.kudosAppLoader.go=function(){function a(){return w=m?window.location.pathname.replace(p,"")+window.location.hash:""}function i(n){if(n&&n.data&&n.origin===u){var t=n.data;t.route&&t.route!==w&&(w=t.route,history.pushState(null,"",p+t.route)),t.title&&e(t.title),t.icon&&o(t.icon)}}var d=window.kudosAppLoader.appLoaderConfig,c=window.kudosAppLoader.contextPath,l=window.location.pathname.replace(c,"").split("/"),p=c+((m=l.length>1?l[1]:null)?"/"+m:""),u=d[m],s=document.getElementById("app-frame"),w="";n(r.body);var f=$(document.body).height();if(f&&f<100&&(s.style.paddingTop=f+"px"),u)e(t(m)),window.addEventListener("message",i,!1),window.onpopstate=function(e){console.log("back/forward to",a()),s&&s.contentWindow&&s.contentWindow.postMessage({route:a()},"*")},s&&(s.src=u+a());else{s&&(s.style.display="none");var h=$('<div class="app-links" ></div>');$(document.body).append(h);for(var m in d){var g=$('<span class="app-link"><a href="'+c+"/"+m+'">'+t(m)+"</a></span>");h.append(g)}}};var d="/blogs/roller-ui/about.do";i(),n(r.head),window.appName||a()}();