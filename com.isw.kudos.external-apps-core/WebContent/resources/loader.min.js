window.kudosAppLoader=window.kudosAppLoader||{},function(){var e={};function n(e){window.document.title=e||""}function o(e){document.write(e)}function a(e){return e?e.charAt(0).toUpperCase()+e.slice(1):null}function t(){var e=location.href.replace(location.origin,"/..");window.location.href="/blogs/roller-ui/login-redirect.jsp?redirect="+encodeURIComponent(e)}window.kudosAppLoader.go=function(){var t,i=window.kudosAppLoader.appLoaderConfig,r=window.kudosAppLoader.contextPath,d=r.replace(/^\//,"");if(i[d])L=d,t=r;else{var c=window.location.pathname.replace(r,"").split("/");L=c.length>1?c[1]:null,t=r+"/"+L}document.body.classList.add(L);var l=L?i[L]:null,p=document.getElementById("app-frame");o(e.body);var s=$(document.body).height();if(p&&s&&s<100&&(p.style.paddingTop=s+"px"),l){var u=new URL(l);if(n(a(L)),window.addEventListener("message",function(e){if(!e||!e.data||e.origin!==u.origin)return;var o=e.data;"String"==typeof o&&(o={command:o});const{command:a,route:i,title:r,icon:d}=o||{};if("appReady"===a||"applicationReady"===a){const{currentLogin:e={},origin:n}=window;p&&p.contentWindow.postMessage({source:{resourceType:"header-frame"},context:{origin:n},user:e},"*")}var c,l;i&&history.replaceState(null,null,t+i),r&&n(r),d&&(c=d,(l=document.querySelector("link[rel*='icon']"))||(l=document.createElement("link"),document.getElementsByTagName("head")[0].appendChild(l)),l.type="image/x-icon",l.rel="shortcut icon",l.href=c)},!1),p){var w=u.origin,h="/"===u.pathname?"":u.pathname,f=window.location.pathname.replace(t,""),m=[];window.location.search&&m.push(window.location.search.replace("?","")),u.search&&m.push(u.search.replace("?",""));var g=m.length?"?"+m.join("&"):"",v=window.location.hash||u.hash;p.src=w+(f||h)+g+v}}else{p&&(p.style.display="none");var y=$('<div class="app-links" ></div>');for(var L in $(document.body).append(y),i){var b=$('<span class="app-link"><a href="'+r+"/"+L+'">'+a(L)+"</a></span>");y.append(b)}}};var i="/blogs/roller-ui/about.do";$.ajax({url:i,type:"GET",dataType:"text",async:!1,cache:!1}).done(function(n,o,a){function t(e,n){var o=e.toLowerCase(),a=n.toLowerCase(),t=o.indexOf("<"+a);if(t>-1){t=o.indexOf(">",t)+1;var i=o.indexOf("</"+a,t);if(i>t)return e.substring(t,i)}return null}var i=t(n,"head");i=(i=(i=i.replace(/<title>[^<]*<\/title>/,"")).replace(/<meta[^>]*>/g,"")).replace(/document.title[\s]*=[^;]*;/g,""),e.head=i;var r=t(n,"body");r=r.replace(/document.title[\s]*=[^;]*;/g,""),e.body=r}).fail(function(e,n,o){console.error("Connections integration load failure",arguments),t()}),o(e.head),window.appName||t()}();
